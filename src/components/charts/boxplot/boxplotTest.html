<div id="chart-tt-wrapper"><text class="chart-tt" data-font-family="Segoe UI" data-font-size="10px" data-line-height="11.5px" data-max-width="120px" data-padding="15px" data-background-color="rgba(248, 243, 243, 1)" data-text-color="rgba(99, 95, 93, 1)" style="visibility: hidden; display: inline; position: absolute; text-align: left; font-family: Segoe UI; font-size: 10px; line-height: 11.5px; max-width: 120px; max-height: 800px; padding: 15px; background-color: rgb(248, 243, 243); color: rgb(99, 95, 93); border-radius: 8px; pointer-events: none; transform: translate(-100%, -100%);"></text></div><div id="boxplot"><svg id="boxplotSVG" width="1000" height="600"><rect class="backgroundBoxplot" height="600" width="1000" fill="rgba(255, 255, 255, 1)"></rect><g class="containBoxplot" transform="translate(180,120)"><g class="y-axis" fill="none" font-size="10" font-family="sans-serif" text-anchor="end"><g class="tick" opacity="1" transform="translate(0, 360.5)"><line stroke="rgba(99, 95, 93, 1)" x2="640" stroke-width="1"></line><text fill="rgba(99, 95, 93, 1)" x="-10" dy="0.32em" font-size="13" font-family="Segoe UI">5</text></g><text class="axis-label" transform="rotate(-90)" style="text-anchor: middle;" y="-100" x="-180" fill="rgba(142, 136, 131, 1)" font-size="20" font-family="Segoe UI">Meilen pro Gallone</text><g class="tick" opacity="1" transform="translate(0, 320.5)"><line stroke="rgba(99, 95, 93, 1)" x2="640" stroke-width="1"></line><text fill="rgba(99, 95, 93, 1)" x="-10" dy="0.32em" font-size="13" font-family="Segoe UI">10</text></g><g class="tick" opacity="1" transform="translate(0, 280.5)"><line stroke="rgba(99, 95, 93, 1)" x2="640" stroke-width="1"></line><text fill="rgba(99, 95, 93, 1)" x="-10" dy="0.32em" font-size="13" font-family="Segoe UI">15</text></g><g class="tick" opacity="1" transform="translate(0, 240.5)"><line stroke="rgba(99, 95, 93, 1)" x2="640" stroke-width="1"></line><text fill="rgba(99, 95, 93, 1)" x="-10" dy="0.32em" font-size="13" font-family="Segoe UI">20</text></g><g class="tick" opacity="1" transform="translate(0, 200.5)"><line stroke="rgba(99, 95, 93, 1)" x2="640" stroke-width="1"></line><text fill="rgba(99, 95, 93, 1)" x="-10" dy="0.32em" font-size="13" font-family="Segoe UI">25</text></g><g class="tick" opacity="1" transform="translate(0, 160.5)"><line stroke="rgba(99, 95, 93, 1)" x2="640" stroke-width="1"></line><text fill="rgba(99, 95, 93, 1)" x="-10" dy="0.32em" font-size="13" font-family="Segoe UI">30</text></g><g class="tick" opacity="1" transform="translate(0, 120.5)"><line stroke="rgba(99, 95, 93, 1)" x2="640" stroke-width="1"></line><text fill="rgba(99, 95, 93, 1)" x="-10" dy="0.32em" font-size="13" font-family="Segoe UI">35</text></g><g class="tick" opacity="1" transform="translate(0, 80.5)"><line stroke="rgba(99, 95, 93, 1)" x2="640" stroke-width="1"></line><text fill="rgba(99, 95, 93, 1)" x="-10" dy="0.32em" font-size="13" font-family="Segoe UI">40</text></g><g class="tick" opacity="1" transform="translate(0, 40.5)"><line stroke="rgba(99, 95, 93, 1)" x2="640" stroke-width="1"></line><text fill="rgba(99, 95, 93, 1)" x="-10" dy="0.32em" font-size="13" font-family="Segoe UI">45</text></g><g class="tick" opacity="1" transform="translate(0, 0.5)"><line stroke="rgba(99, 95, 93, 1)" x2="640" stroke-width="1"></line><text fill="rgba(99, 95, 93, 1)" x="-10" dy="0.32em" font-size="13" font-family="Segoe UI">50</text></g></g><g class="x-axis" transform="translate(0, 360)" fill="none" font-size="10" font-family="sans-serif" text-anchor="middle"><g class="tick" opacity="1" transform="translate(142.22222222222223,0)"><text fill="rgba(99, 95, 93, 1)" y="16" dy=".15em" style="text-anchor: end;" dx="-.8em" font-size="13" font-family="Segoe UI" transform="rotate(-30)">Nordamerika</text></g><g class="tick" opacity="1" transform="translate(320,0)"><text fill="rgba(99, 95, 93, 1)" y="16" dy=".15em" style="text-anchor: end;" dx="-.8em" font-size="13" font-family="Segoe UI" transform="rotate(-30)">Asien</text></g><g class="tick" opacity="1" transform="translate(497.7777777777778,0)"><text fill="rgba(99, 95, 93, 1)" y="16" dy=".15em" style="text-anchor: end;" dx="-.8em" font-size="13" font-family="Segoe UI" transform="rotate(-30)">Europa</text></g><text class="axis-label" y="100" x="320" fill="rgba(142, 136, 131, 1)" font-size="20" font-family="Segoe UI">Herkunft</text></g><g class="titleChart"><text class="titleChart" text-anchor="middle" x="320" y="-60" fill="rgba(99, 79, 93, 1)" font-size="25" font-family="Segoe UI">Boxplot von Meilen pro Gallone gruppiert durch Herkunft</text></g><rect opacity="1" class="iqr" rx="5" fill="#1f77b4" x="106.66666666666666" y="207.99999999999997" data-maximum="39" data-quantil3="24" data-median="18.5" data-quantil1="15" data-minimum="9" data-skewness="0.82" data-kurtosis="0.08" width="71.11111111111113" stroke-width="1px" stroke="black" height="72.00000000000003"></rect><rect opacity="1" class="iqr" rx="5" fill="#ff7f0e" x="284.44444444444446" y="127.60000000000004" data-maximum="46.6" data-quantil3="34.05" data-median="31.6" data-quantil1="25.7" data-minimum="18" data-skewness="0.01" data-kurtosis="-0.27" width="71.11111111111113" stroke-width="1px" stroke="black" height="66.79999999999997"></rect><rect opacity="1" class="iqr" rx="5" fill="#2ca02c" x="462.2222222222223" y="154.8" data-maximum="44.3" data-quantil3="30.65" data-median="26.5" data-quantil1="24" data-minimum="16.2" data-skewness="0.7" data-kurtosis="0.25" width="71.11111111111113" stroke-width="1px" stroke="black" height="53.19999999999996"></rect><line class="medianLine" style="stroke: black;" x1="106.66666666666666" x2="177.77777777777777" y1="251.99999999999997" y2="251.99999999999997" opacity="1"></line><line class="medianLine" style="stroke: black;" x1="284.44444444444446" x2="355.5555555555556" y1="147.2" y2="147.2" opacity="1"></line><line class="medianLine" style="stroke: black;" x1="462.2222222222223" x2="533.3333333333334" y1="187.99999999999997" y2="187.99999999999997" opacity="1"></line><line class="upperWhiskerHor" style="stroke: black;" x1="106.66666666666666" x2="177.77777777777777" y1="100" y2="100" opacity="1"></line><line class="upperWhiskerHor" style="stroke: black;" x1="284.44444444444446" x2="355.5555555555556" y1="27.40000000000005" y2="27.40000000000005" opacity="1"></line><line class="upperWhiskerHor" style="stroke: black;" x1="462.2222222222223" x2="533.3333333333334" y1="75.00000000000001" y2="75.00000000000001" opacity="1"></line><line class="lowerWhiskerHor" style="stroke: black;" x1="106.66666666666666" x2="177.77777777777777" y1="328" y2="328" opacity="1"></line><line class="lowerWhiskerHor" style="stroke: black;" x1="284.44444444444446" x2="355.5555555555556" y1="256" y2="256" opacity="1"></line><line class="lowerWhiskerHor" style="stroke: black;" x1="462.2222222222223" x2="533.3333333333334" y1="270.4" y2="270.4" opacity="1"></line><line class="upperWhiskerVert" style="stroke: black;" x1="142.22222222222223" x2="142.22222222222223" y1="207.99999999999997" y2="100" opacity="1"></line><line class="upperWhiskerVert" style="stroke: black;" x1="320" x2="320" y1="127.60000000000004" y2="27.40000000000005" opacity="1"></line><line class="upperWhiskerVert" style="stroke: black;" x1="497.7777777777778" x2="497.7777777777778" y1="154.8" y2="75.00000000000001" opacity="1"></line><line class="lowerWhiskerVert" style="stroke: black;" x1="142.22222222222223" x2="142.22222222222223" y1="280" y2="328" opacity="1"></line><line class="lowerWhiskerVert" style="stroke: black;" x1="320" x2="320" y1="194.4" y2="256" opacity="1"></line><line class="lowerWhiskerVert" style="stroke: black;" x1="497.7777777777778" x2="497.7777777777778" y1="207.99999999999997" y2="270.4" opacity="1"></line><circle class="highOutlier" style="stroke: black; stroke-width: 1.5px; fill: rgb(31, 119, 180);" r="4" cx="126.22222222222223" cy="96.00000000000001" data-y="38" opacity="1"></circle><circle class="highOutlier" style="stroke: black; stroke-width: 1.5px; fill: rgb(31, 119, 180);" r="4" cx="148.22222222222223" cy="96.00000000000001" data-y="38" opacity="1"></circle><circle class="highOutlier" style="stroke: black; stroke-width: 1.5px; fill: rgb(31, 119, 180);" r="4" cx="162.22222222222223" cy="88" data-y="39" opacity="1"></circle><circle class="highOutlier" style="stroke: black; stroke-width: 1.5px; fill: rgb(255, 127, 14);" r="4" cx="302" cy="27.199999999999974" data-y="46.6" opacity="1"></circle><circle class="highOutlier" style="stroke: black; stroke-width: 1.5px; fill: rgb(44, 160, 44);" r="4" cx="488.7777777777778" cy="72.80000000000003" data-y="40.9" opacity="1"></circle><circle class="highOutlier" style="stroke: black; stroke-width: 1.5px; fill: rgb(44, 160, 44);" r="4" cx="504.7777777777778" cy="68" data-y="41.5" opacity="1"></circle><circle class="highOutlier" style="stroke: black; stroke-width: 1.5px; fill: rgb(44, 160, 44);" r="4" cx="477.7777777777778" cy="55.199999999999996" data-y="43.1" opacity="1"></circle><circle class="highOutlier" style="stroke: black; stroke-width: 1.5px; fill: rgb(44, 160, 44);" r="4" cx="481.7777777777778" cy="52.80000000000002" data-y="43.4" opacity="1"></circle><circle class="highOutlier" style="stroke: black; stroke-width: 1.5px; fill: rgb(44, 160, 44);" r="4" cx="494.7777777777778" cy="47.999999999999986" data-y="44" opacity="1"></circle><circle class="highOutlier" style="stroke: black; stroke-width: 1.5px; fill: rgb(44, 160, 44);" r="4" cx="504.7777777777778" cy="45.600000000000016" data-y="44.3" opacity="1"></circle></g></svg></div>
<script>
    const tooltipWrapper = document.getElementById("chart-tt-wrapper");
    const tooltip = tooltipWrapper.getElementsByClassName("chart-tt")[0];
    const svg = document.getElementById("boxplotSVG");
    const iqrs = svg.querySelectorAll(".iqr");
    const highOutliers = svg.querySelectorAll(".highOutlier");
    const lowOutliers = svg.querySelectorAll(".lowOutlier");

    const tooltipFontFamily = tooltip.getAttribute("data-font-family");
    const tooltipFontSize = tooltip.getAttribute("data-font-size");
    const tooltipLineHeight = tooltip.getAttribute("data-line-height");
    const tooltipMaxWidth = tooltip.getAttribute("data-max-width");
    const tooltipPadding = tooltip.getAttribute("data-padding");
    const tooltipBgColor = tooltip.getAttribute("data-background-color");
    const tooltipTextColor = tooltip.getAttribute("data-text-color");

    const normalStyle = `visibility: hidden; display: inline; position: absolute; text-align: left; max-width: ${tooltipMaxWidth}; max-height: 800px; padding: ${tooltipPadding}; border-radius: 8px; font-size: ${tooltipFontSize}; font-family: ${tooltipFontFamily}; line-height: ${tooltipLineHeight}; background-color: ${tooltipBgColor}; color: ${tooltipTextColor}; pointer-events: none; transform: translate(-100%, -100%);`;
    const hoverStyle = `visibility: visible; display: inline; position: absolute; text-align: left; max-width: ${tooltipMaxWidth}; max-height: 800px; padding: ${tooltipPadding}; border-radius: 8px; font-size: ${tooltipFontSize}; font-family: ${tooltipFontFamily}; line-height: ${tooltipLineHeight}; background-color: ${tooltipBgColor}; color: ${tooltipTextColor}; pointer-events: none; transform: translate(-100%, -100%);`;

    function mouseover(){
        tooltip.setAttribute("style", hoverStyle);
    };
    function mousemoveIqr(event, iqrMaximum, iqrQuantil3, iqrMedian, iqrQuantil1, iqrMinimum, iqrSkewness, iqrKurtosis){
        mousePos = { x: event.clientX, y: event.clientY };
        tooltip.setAttribute("style", hoverStyle + `left: ${mousePos.x}px; top: ${mousePos.y}px`);
        tooltip.innerHTML = `Maximum: ${iqrMaximum}<br>3.Quantil: ${iqrQuantil3}<br>Median: ${iqrMedian}<br>1.Quantil: ${iqrQuantil1}<br>Minimum: ${iqrMinimum}<br>Schiefe: ${iqrSkewness}<br>Wölbung: ${iqrKurtosis}`;
    };
    function mouseout(){
        tooltip.setAttribute("style", normalStyle);
    };
    function mousemoveCircle(event, outlierDataY) {
        mousePos = { x: event.clientX, y: event.clientY };
        tooltip.setAttribute("style", hoverStyle + `left: ${mousePos.x}px; top: ${mousePos.y}px`);
        tooltip.innerHTML = `Ausreißer: ${outlierDataY}`;
    };

    function mouseenter(element) {
        iqrs.forEach((iqrEl) => {
            iqrEl.setAttribute("opacity", "0.7");
        });
        lowOutliers.forEach((lowOutlierEl) => {
            lowOutlierEl.setAttribute("opacity", "0.7");
        });
        highOutliers.forEach((highOutlierEl) => {
            highOutlierEl.setAttribute("opacity", "0.7");
        });
        element.setAttribute("opacity", "1");
    }

    function mouseleave() {
        iqrs.forEach((iqrEl) => {
            iqrEl.setAttribute("opacity", "1");
        });
        lowOutliers.forEach((lowOutlierEl) => {
            lowOutlierEl.setAttribute("opacity", "1");
        });
        highOutliers.forEach((highOutlierEl) => {
            highOutlierEl.setAttribute("opacity", "1");
        });
    };

    iqrs.forEach((iqr) => {
        const iqrMaximum = iqr.getAttribute("data-maximum");
        const iqrQuantil3 = iqr.getAttribute("data-quantil3");
        const iqrMedian = iqr.getAttribute("data-median");
        const iqrQuantil1 = iqr.getAttribute("data-quantil1");
        const iqrMinimum = iqr.getAttribute("data-minimum");
        const iqrSkewness = iqr.getAttribute("data-skewness");
        const iqrKurtosis = iqr.getAttribute("data-kurtosis");

        iqr.addEventListener("mouseover", mouseover);
        iqr.addEventListener("mousemove", (event) => mousemoveIqr(event, iqrMaximum, iqrQuantil3, iqrMedian, iqrQuantil1, iqrMinimum, iqrSkewness, iqrKurtosis));
        iqr.addEventListener("mouseout", mouseout);
        iqr.addEventListener("mouseenter", () => mouseenter(iqr));
        iqr.addEventListener("mouseleave", mouseleave);
    });

    lowOutliers.forEach((outlier) => {
        const outlierDataY = outlier.getAttribute("data-y");

        outlier.addEventListener("mouseover", mouseover);
        outlier.addEventListener("mousemove", (event) => mousemoveCircle(event, outlierDataY));
        outlier.addEventListener("mouseout", mouseout);
        outlier.addEventListener("mouseenter", () => mouseenter(outlier));
        outlier.addEventListener("mouseleave", mouseleave);
    });

    highOutliers.forEach((outlier) => {
        const outlierDataY = outlier.getAttribute("data-y");

        outlier.addEventListener("mouseover", mouseover);
        outlier.addEventListener("mousemove", (event) => mousemoveCircle(event, outlierDataY));
        outlier.addEventListener("mouseout", mouseout);
        outlier.addEventListener("mouseenter", () => mouseenter(outlier));
        outlier.addEventListener("mouseleave", mouseleave);
    });
</script>